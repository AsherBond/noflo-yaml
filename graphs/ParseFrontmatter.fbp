INPORT=Content.IN:CONTENT
OUTPORT=Results.OUT:RESULTS
OUTPORT=FileName.GROUP:FILENAME

Content(Split) OUT -> IN LastGroup(groups/LastGroup) OUT -> IN FileName(ReadGroup)
'path' -> PROPERTY SetFileName(SetPropertyValue)
FileName GROUP -> VALUE SetFileName
FileName OUT -> IN DropData(core/Drop)

Content OUT -> IN Extract(yaml/ExtractFrontmatter)

'body' -> KEY GetBody(GetObjectKey)
'false' -> SENDGROUP GetBody
'body' -> PROPERTY Results(SetPropertyValue)
Extract OUT -> IN GetBody OUT -> VALUE Results

'head' -> KEY GetYaml(GetObjectKey)
'false' -> SENDGROUP GetYaml
Extract OUT -> IN GetYaml
GetYaml OUT -> IN ParseYaml(yaml/ParseYaml)

# Handle files with empty body
'' -> STRING EmptyBody(strings/SendString)
GetBody MISSED -> IN EmptyBody OUT -> VALUE Results

ParseYaml OUT -> IN SetFileName OUT -> IN Results
